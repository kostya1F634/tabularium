# GitHub Actions CI/CD

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ä–µ–ª–∏–∑–æ–≤ –Ω–∞ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.

## üìã Workflows

### 1. CI (Continuous Integration)

**–§–∞–π–ª:** `.github/workflows/ci.yml`

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ push –≤ –≤–µ—Ç–∫–∏ `main` –∏–ª–∏ `develop`
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Pull Request –≤ `main` –∏–ª–∏ `develop`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–¥–∞ (linter)
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–æ–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç coverage –æ—Ç—á—ë—Ç (—Ç–æ–ª—å–∫–æ –Ω–∞ Linux)
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç coverage –≤ Codecov (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- Ubuntu Latest (Linux)
- Windows Latest
- macOS Latest

### 2. Release (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–ª–∏–∑–æ–≤)

**–§–∞–π–ª:** `.github/workflows/release.yml`

**–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ git tag –≤ —Ñ–æ—Ä–º–∞—Ç–µ `v*.*.*` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `v1.0.0`, `v0.9.5`)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**

1. **–°–±–æ—Ä–∫–∞ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö:**
   - Linux (x64) ‚Üí `tabularium-linux-x64.tar.gz`
   - Windows (x64) ‚Üí `tabularium-windows-x64.zip`
   - macOS (x64) ‚Üí `tabularium-macos-x64.tar.gz`

2. **–°–æ–∑–¥–∞–Ω–∏–µ GitHub Release:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç changelog –∏–∑ git commits
   - –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –≤—Å–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã
   - –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

## üöÄ –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
git status

# 2. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ pubspec.yaml
# version: 1.0.0+1

# 3. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
git add pubspec.yaml
git commit -m "chore: bump version to 1.0.0"

# 4. –°–æ–∑–¥–∞–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–≥
git tag v1.0.0
git push origin main
git push origin v1.0.0
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Makefile

–î–æ–±–∞–≤–∏–º –∫–æ–º–∞–Ω–¥—ã –≤ Makefile –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞:

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–ª–∏–∑
make release VERSION=1.0.0
```

### –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏:

1. **–¢—Ä–∏–≥–≥–µ—Ä:** Push —Ç–µ–≥–∞ `v1.0.0`
2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞:**
   - GitHub Actions –∑–∞–ø—É—Å–∫–∞–µ—Ç 3 runner'–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - –ö–∞–∂–¥—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –¥–ª—è —Å–≤–æ–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   - –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –≤ –∞—Ä—Ö–∏–≤
3. **–°–æ–∑–¥–∞–Ω–∏–µ Release:**
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è changelog –∏–∑ commits
   - –°–æ–∑–¥–∞—ë—Ç—Å—è GitHub Release
   - –ü—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –≤—Å–µ –∞—Ä—Ö–∏–≤—ã

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä—Ö–∏–≤—ã:

**Linux:**
```
tabularium-linux-x64.tar.gz
‚îî‚îÄ‚îÄ (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ build/linux/x64/release/bundle/)
    ‚îú‚îÄ‚îÄ tabularium (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª)
    ‚îú‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ data/
```

**Windows:**
```
tabularium-windows-x64.zip
‚îî‚îÄ‚îÄ (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ build/windows/x64/runner/Release/)
    ‚îú‚îÄ‚îÄ tabularium.exe
    ‚îú‚îÄ‚îÄ flutter_windows.dll
    ‚îî‚îÄ‚îÄ data/
```

**macOS:**
```
tabularium-macos-x64.tar.gz
‚îî‚îÄ‚îÄ (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ build/macos/Build/Products/Release/)
    ‚îî‚îÄ‚îÄ Tabularium.app/
        ‚îî‚îÄ‚îÄ Contents/
            ‚îú‚îÄ‚îÄ MacOS/
            ‚îú‚îÄ‚îÄ Frameworks/
            ‚îî‚îÄ‚îÄ Resources/
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã workflows –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub**
2. **–í–∫–ª—é—á–µ–Ω–Ω—ã–µ GitHub Actions** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω—ã)
3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ permissions** –≤ settings:
   - Settings ‚Üí Actions ‚Üí General ‚Üí Workflow permissions
   - –í—ã–±–µ—Ä–∏—Ç–µ: "Read and write permissions"

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### Codecov (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ coverage –æ—Ç—á—ë—Ç–æ–≤ –≤ Codecov:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [codecov.io](https://codecov.io)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –î–æ–±–∞–≤—å—Ç–µ badge –≤ README:

```markdown
[![codecov](https://codecov.io/gh/username/tabularium/branch/main/graph/badge.svg)](https://codecov.io/gh/username/tabularium)
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ CI

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Actions** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π workflow (CI –∏–ª–∏ Release)
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ª–∏–∑–æ–≤

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Releases**
2. –£–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ–ª–∏–∑–æ–≤ —Å –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤—ã –¥–ª—è —Å–≤–æ–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

## üêõ Troubleshooting

### –°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç –Ω–∞ Linux

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ `ci.yml` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã:
```yaml
sudo apt-get install -y \
  clang cmake ninja-build pkg-config libgtk-3-dev \
  liblzma-dev libstdc++-12-dev
```

### –°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç –Ω–∞ Windows

**–ü—Ä–æ–±–ª–µ–º–∞:** PowerShell –∫–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ:** –í `release.yml` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `shell: bash` –¥–ª—è –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç –Ω–∞ macOS

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—Ä–µ–±—É–µ—Ç—Å—è code signing

**–†–µ—à–µ–Ω–∏–µ:** –í –¥–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `--release` –±–µ–∑ signing. –î–ª—è App Store –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

### Release –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç permissions

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `permissions: contents: write` –≤ –Ω–∞—á–∞–ª–µ `release.yml`

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–ª–∏–∑–∞

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–µ—Ä—Å–∏—è –≤ pubspec.yaml = 0.9.0
cat pubspec.yaml | grep version

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥
git tag v0.9.0
git push origin v0.9.0

# 3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è GitHub Actions
# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Releases
```

### –°–æ–∑–¥–∞–Ω–∏–µ hotfix —Ä–µ–ª–∏–∑–∞

```bash
# 1. –í–Ω–µ—Å–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –≤–µ—Ç–∫—É main
git add .
git commit -m "fix: critical bug in file handling"

# 2. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é
# pubspec.yaml: version: 0.9.1+1

# 3. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥
git tag v0.9.1
git push origin main
git push origin v0.9.1
```

### Pre-release –≤–µ—Ä—Å–∏—è

```bash
# –î–ª—è beta/alpha –≤–µ—Ä—Å–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ suffix
git tag v1.0.0-beta.1
git push origin v1.0.0-beta.1

# GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—Ç–∏—Ç –∫–∞–∫ "Pre-release"
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í—Å–µ secrets —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ GitHub Secrets
- ‚úÖ –¢–æ–∫–µ–Ω—ã –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ permissions
- ‚úÖ Artifacts —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 1 –¥–µ–Ω—å –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
- ‚úÖ Release artifacts –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Flutter CI/CD Best Practices](https://docs.flutter.dev/deployment/cd)
- [Semantic Versioning](https://semver.org/)
- [Conventional Commits](https://www.conventionalcommits.org/)

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ semantic versioning (`v1.0.0`)
2. **Commit messages:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ conventional commits –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ changelog
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `make check` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–µ–≥–∞
4. **Changelog:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª CHANGELOG.md –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é

## üéØ Roadmap

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è CI/CD:

- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CHANGELOG.md
- [ ] –°–±–æ—Ä–∫–∞ –¥–ª—è ARM –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Linux ARM, Apple Silicon)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Snap/Flatpak –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è Linux
- [ ] Chocolatey –ø–∞–∫–µ—Ç –¥–ª—è Windows
- [ ] Homebrew formula –¥–ª—è macOS
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ pubspec.yaml
- [ ] Discord/Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Ä–µ–ª–∏–∑–∞—Ö
